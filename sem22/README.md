# Семинар 22

## Дополнительные материалы

* [Материалы 2020-21 года по pthreads](https://github.com/blackav/hse-caos-2020/tree/master/21-pthread)
* [Материалы 2020-21 года по mutex](https://github.com/blackav/hse-caos-2020/tree/master/22-mutex)

## Задачи на семинар

### A

Программе на стандартный поток подаются шестерки натуральных чисел:

`X0 dx nx Y0 dy ny`

Есть 4 счета с начальным состоянием:

```text
  A  | B  | C | G
-----+----+---+---
  X0 | Y0 | 0 | 0
```

Требуется двумя нитями реализовать логику:

* Нить #1 `nx` раз вычитает из `A` величину `dx`, при этом `15%` кладет на счет `G`, остальное - в `B`.
* Нить #2 `ny` раз вычитает из `B` величину `dy`, при этом `20%` кладет на счет `G`, остальное - в `C`.

Определить инвариант(ы) для этой задачи.
Проверить их выполнение в начале и в конце работы программы.

### B

Программе на стандартном входном потоке задаются натуральные числа:

`X0 dx n`

Требуется создать дополнительную нить T, которая будет искать простые числа,
начиная с номера `X0`, и далее каждое `dx`-ое число.

Главная нить (функция `main()`) должна получать такие простые числа от нити T
и выводить их на стандартный поток. Требуется вывести `n` таких чисел.

Допускается, чтобы в выводе присутствовали не подряд идущие простые числа.

#### Пример

`X0 = 1; dx = 2; n = 4`

##### Возможный вывод

`2 5 11 17` - это 1ое, 3ье, 5ое и 7ое простые числа (подряд идущие);

или

`5 17 23 47` - это 3ье, 7ое, 9ое и 15ое простые числа (не подряд идущие).
